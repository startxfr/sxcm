# Profiles

A cluster profile is a cluster definition containing infrastructure description as well as cluster resource to be deployed.
Profile are readonly components defined as shared resources. If you want to add a new profile, you should add it
to the `/usr/share/sxcm/profiles` directory

## List

List available cluster profiles

| Param    | mandatory | Content                         |
| -------- | --------- | ------------------------------- |
| **help** | no        | Get the manpage of this command |

```bash
# List the cluster profiles description found locally (both shared and personal)
sxcm profiles
```

## Add a profile

Profiles are a sxcm core component. If you want to add your own profile, you should add it to the core
directory of the scm application.

Your source file should be a file generated by the `openshift-install` with, for example,
`openshift-install create install-config --dir /tmp/profile-example`.
You could then update the profile with `vi /tmp/profile-example/install-config.yaml` and customize it.
After this action, you can copy it to the sxcm profile stack with `cp /tmp/profile-example/install-config.yaml /usr/share/sxcm/profiles/install-config-profilename.yaml`.

```bash
# Interactive setup of the openshift infrastructure configuration
openshift-install create install-config --dir /tmp/profile-example
# Edit and change the default configuration
vi /tmp/profile-example/install-config.yaml
# Add the profilename profile to the local profile stack based on the previously created configuration
cp /tmp/profile-example/install-config.yaml /usr/share/sxcm/profiles/install-config-profilename.yaml
rm -rf /tmp/profile-example
```

## Delete a profile

Profiles are a sxcm core component. If you want to remove a profile, you should remove it from the core
directory of the scm application.

Profile description are located into the `/usr/share/sxcm/profiles` directory.
You could remove a profile with `rm /usr/share/sxcm/profiles/profile-example/install-config-profilename.yaml` command.

```bash
# Remove the profilename profile from the local profile stack
rm /usr/share/sxcm/profiles/profile-example/install-config-profilename.yaml
```
